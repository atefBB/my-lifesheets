<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<title>mygraine: migraine tracker</title>
	<link rel="stylesheet" href="https://get.mavo.io/mavo.css">
	<link rel="stylesheet" href="../style.css">
	<style>
		:root {
			--accent-color: #cc0044;
			--icon: "ðŸ¤•";
		}
	</style>
	<script type="module" src="https://projects.verou.me/h-chart/src/h-chart.js"></script>
	<script type="module" src="https://projects.verou.me/nudeforms/index.js"></script>
</head>
<body mv-app="mygraine" class="mv-autoedit" mv-storage="https://github.com/leaverou/my-lifesheets/mygraine/data.json" mv-autosave>
	<header>
		<h1>mygraine</h1>
		<h2>migraine tracker</h2>
		<div class="mv-bar mv-ui"></div>
	</header>

	<main>
		<div class="charts">
			
		</div>
		<div class="root-data">
			<span  mv-value="if(duration($now - first(end_date_time), 2), duration($now - first(end_date_time), 2) since last migraine)" class="expression"></span>
		</div>
		<section mv-list="entry">
			<article mv-list-item class="entry">
				<header>
					<div class="dates">
						<span property="weekday">[weekday(date, "shortname")]</span>
						<time property="date" mv-edit-type="inline" mv-default="[$today]"></time>
						<meta property="date_time" content="[date][if(time, 'T' & time)]">

						<time property="time" mv-edit-type="inline" mv-editor-type="time" mv-default="">[time(time, 'minutes')]</time>
						
							<span class="end-time" data-hide="[!time]">
								to
								<time property="end_time" mv-edit-type="inline" mv-editor-type="time">[time(end_time, 'minutes')]</time>
								<span>
									on
									<time property="end_date" mv-edit-type="inline" mv-default="[if(end_time, if(end_time < time, date(date + 1 * days()), date))]" mv-editor-min="[date]"></time>
								</span>
								<meta property="end_date_time" content="[end_date][if(end_time, 'T' & end_time)]">
							</span>
							

						
							<span mv-if="end_date and (time and end_time)" class="duration">
								([duration(duration, 2)])
							</span>
							

						<meta property="duration" content="[ end_date_time - date_time ]">
					</div>
					<div class="entry-data">
						<span class="type-number" property="intensity" mv-default="5" mv-editor-type="number" mv-editor-min="1" mv-editor-max="10" mv-editor-step="1" ></span>
<span  mv-value="intensity + 5" class="expression"></span>
<cycle-toggle class="type-toggle" property="side" ><span>left</span>
<span>right</span>
<span>both</span></cycle-toggle>
					</div>
				</header>
				<div property="notes"></div>
			</article>
			<button type="button" class="mv-add mv-add-entry" mv-action="add(entry)">Add migraine</button>
		</section>
	</main>

	<script src="https://get.mavo.io/mavo.js"></script>
</body>
</html>